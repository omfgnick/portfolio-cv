<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CV Terminal | Nicolas Mesquita Fernandes</title>
  <style>
    :root{
      --bg:#050a06;
      --green:#39ff14;
      --text:#d7ffe0;
      --muted:#86c992;
      --panel: rgba(6, 16, 10, 0.78);
      --border: rgba(57,255,20,0.22);
      --shadow: 0 0 22px rgba(57,255,20,0.18);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{ margin:0; background:var(--bg); color:var(--text); font-family:var(--mono); overflow-x:hidden; }

    #matrix{ position:fixed; inset:0; width:100%; height:100%; z-index:-2; display:block; }
    .vignette{
      position:fixed; inset:0; z-index:-1; pointer-events:none;
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(57,255,20,0.12), transparent 60%),
        radial-gradient(900px 500px at 80% 80%, rgba(57,255,20,0.08), transparent 60%),
        radial-gradient(900px 900px at 50% 50%, transparent 40%, rgba(0,0,0,0.70) 85%);
      mix-blend-mode:screen;
    }

    .wrap{ max-width:1100px; margin:0 auto; padding:18px 16px 40px; }

    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:12px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.35);
      box-shadow: var(--shadow);
      border-radius:14px;
      backdrop-filter: blur(6px);
      margin-bottom:12px;
    }
    .leftbar{ display:flex; align-items:center; gap:10px; min-width:0; }
    .dots{ display:flex; gap:7px; margin-right:6px; }
    .dot{ width:10px; height:10px; border-radius:50%; }
    .dot:nth-child(1){ background: rgba(255,90,90,0.85); }
    .dot:nth-child(2){ background: rgba(255,200,80,0.85); }
    .dot:nth-child(3){ background: rgba(80,255,140,0.85); }
    .path{ color:var(--muted); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    .actions{ display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end; }
    .btn{
      appearance:none;
      border:1px solid rgba(57,255,20,0.22);
      background: rgba(0,0,0,0.22);
      color: var(--text);
      border-radius: 999px;
      padding: 7px 10px;
      font-family: var(--mono);
      font-size: 13px;
      cursor:pointer;
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(57,255,20,0.45);
      box-shadow: 0 0 16px rgba(57,255,20,0.14);
    }

    .terminal{
      border: 1px solid var(--border);
      background: var(--panel);
      box-shadow: var(--shadow);
      border-radius: 18px;
      overflow:hidden;
      backdrop-filter: blur(8px);
    }
    .terminalHeader{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(57,255,20,0.16);
      background: linear-gradient(180deg, rgba(57,255,20,0.10), transparent);
    }
    .terminalHeader .title{
      color: var(--green);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 12px;
    }
    .terminalHeader .hint{
      color: var(--muted);
      font-size: 12px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .screen{
      padding: 14px 14px 8px;
      font-size: 13.6px;
      line-height: 1.68;
      min-height: 65vh;
      max-height: 72vh;
      overflow: auto;
    }

    .line{ margin: 0 0 6px; }
    .dim{ color: rgba(215,255,224,0.92); }
    .muted{ color: var(--muted); }
    .green{ color: var(--green); }

    a.link{
      color: rgba(215,255,224,0.96);
      text-decoration: none;
      border-bottom: 1px dashed rgba(57,255,20,0.26);
    }
    a.link:hover{ border-bottom-color: rgba(57,255,20,0.55); color: var(--green); }

    .badge{
      display:inline-block;
      padding: 1px 7px;
      border:1px solid rgba(57,255,20,0.20);
      border-radius: 999px;
      background: rgba(0,0,0,0.18);
      color: rgba(215,255,224,0.92);
      font-size: 12px;
      margin-right: 6px;
      margin-bottom: 6px;
      white-space:nowrap;
    }
    .sep{ margin: 10px 0; border-top: 1px dashed rgba(57,255,20,0.20); }

    .promptRow{
      display:flex; align-items:flex-start; gap:10px;
      padding: 10px 14px 14px;
      border-top: 1px solid rgba(57,255,20,0.12);
      background: rgba(0,0,0,0.18);
      position: sticky;
      bottom: 0;
    }
    .prompt{ white-space:nowrap; color: var(--muted); font-size: 13px; margin-top: 2px; }
    .cmd{ flex:1; min-width: 0; display:flex; align-items:center; gap:10px; }
    input{
      width:100%;
      background: transparent;
      border:none;
      outline:none;
      color: var(--text);
      font-family: var(--mono);
      font-size: 13.6px;
      padding: 2px 0;
    }
    .cursor{
      display:inline-block;
      width: 10px;
      height: 16px;
      margin-top:2px;
      background: var(--green);
      animation: blink 1.05s steps(1,end) infinite;
    }
    @keyframes blink{ 50%{ opacity:0; } }

    .kbd{
      display:inline-block;
      padding: 1px 6px;
      border:1px solid rgba(57,255,20,0.22);
      border-bottom-color: rgba(57,255,20,0.40);
      border-radius: 8px;
      background: rgba(0,0,0,0.18);
      font-size: 12px;
      color: rgba(215,255,224,0.95);
      margin: 0 4px;
      white-space:nowrap;
    }

    body.clean #matrix, body.clean .vignette{ display:none !important; }
    body.clean{ background: #0b120d; }
    body.clean .terminal, body.clean .topbar{ background: rgba(10,22,14,0.94); backdrop-filter:none; }
    body.clean .screen{ font-size:14.2px; line-height:1.75; }

    @media print{
      #matrix, .vignette, .topbar, .promptRow { display:none !important; }
      body{ background:#fff; color:#111; }
      .terminal{ box-shadow:none; background:#fff; border:1px solid #ddd; }
      .terminalHeader{ background:#f2f2f2; border-bottom:1px solid #ddd; }
      .terminalHeader .title{ color:#111; }
      .terminalHeader .hint, .muted, .dim{ color:#333 !important; }
      .badge{ border:1px solid #ddd; background:#fff; color:#111; }
      .sep{ border-top:1px dashed #ddd; }
      a.link{ color:#111; border-bottom:1px dashed #aaa; }
    }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>
  <div class="vignette"></div>

  <div class="wrap">
    <div class="topbar" role="toolbar" aria-label="Barra superior">
      <div class="leftbar">
        <div class="dots" aria-hidden="true">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
        <div class="path">nicolas@matrix:~/cv$ <span class="green">terminal</span></div>
      </div>
      <div class="actions">
        <button class="btn" id="btnAll" type="button">all</button>
        <button class="btn" id="btnATS" type="button">ats</button>
        <button class="btn" id="btnClean" type="button">modo recrutador</button>
        <button class="btn" id="btnPDF" type="button">baixar pdf</button>
        <button class="btn" id="btnClear" type="button">clear</button>
      </div>
    </div>

    <section class="terminal" aria-label="Terminal currículo">
      <div class="terminalHeader">
        <div class="title">CV TERMINAL — FULL VIEW</div>
        <div class="hint">Já abre completo • Comandos: <span class="kbd">help</span> <span class="kbd">ats</span> <span class="kbd">matrix off</span></div>
      </div>

      <div class="screen" id="screen" aria-live="polite"></div>

      <div class="promptRow">
        <div class="prompt" id="prompt">nicolas@matrix:~/cv$</div>
        <div class="cmd">
          <input id="input" type="text" autocomplete="off" spellcheck="false" aria-label="Digite um comando" />
          <span class="cursor" aria-hidden="true"></span>
        </div>
      </div>
    </section>
  </div>

<script>
/* ===========================
   CV DATA (completo)
=========================== */
const CV = {
  name: "Nicolas Mesquita Fernandes",
  headline: "Analista de Suporte e Infraestrutura | Segurança da Informação | Automação de Processos | NOC | Suporte Sênior",
  location: "São Paulo, Brasil",
  contact: {
    email: "omfg_nick@hotmail.com",
    phone_display: "+55 11 94232-7967",
    phone_tel: "+5511942327967",
    linkedin: "https://www.linkedin.com/in/nicolasmesquita/",
    github: "https://github.com/omfgnick"
  },

  about: [
    "Analista de Suporte e Infraestrutura com 10+ anos em ambientes corporativos e operações críticas (NOC/field), focado em disponibilidade, monitoração, gestão de incidentes e segurança da informação.",
    "Vivência com SolarWinds, BMC Remedy, IBM Tivoli Netcool/Omnibus, HP SiteScope, Jira e Cisco Meraki; automação com PowerShell/Bash e rotinas de backup (NetBackup / HP Data Protector).",
    "Perfil hands-on, forte em troubleshooting, padronização, documentação e treinamento de boas práticas."
  ],

  highlights: [
    "Suporte N2/N3 e atuação em incidentes críticos com foco em SLA e continuidade.",
    "Monitoração ponta a ponta (triagem → escalonamento → normalização).",
    "Padronização operacional (5S, inventário, documentação técnica).",
    "Automação com PowerShell/Bash para reduzir erro manual."
  ],

  skills: {
    "Sistemas": ["Windows", "Linux (básico)"],
    "Monitoramento/NOC": ["SolarWinds", "IBM Tivoli Netcool/Omnibus", "HP SiteScope"],
    "ITSM": ["BMC Remedy", "Jira", "GLPI"],
    "Redes": ["DNS", "Operações de rede", "Roteamento (conceitos)", "LAN/WAN", "Cisco Meraki"],
    "Backup": ["Symantec NetBackup", "HP Data Protector"],
    "Automação": ["PowerShell", "Bash"],
    "Cloud": ["AWS (fundamentos)"],
    "Outros": ["ITIL", "Inventário/Ativos", "Documentação", "Treinamento", "Fornecedores", "Auditoria (rotinas)"]
  },

  education: [
    { school: "Estácio", course: "Defesa Cibernética", period: "jan/2024" },
    { school: "FACCAMP", course: "Bacharelado em Sistemas de Informação", period: "2011–2015" },
    { school: "ETEC Gino Rezaghi", course: "Formação Técnica", period: "2009–2010" }
  ],

  certifications: [
    { name: "Estácio — Programação para Internet", issued: "jul/2025", code: "db67f5df491f166a9630ba5" },
    { name: "Estácio — Desenvolvimento de Aplicações em Python", issued: "dez/2024", code: "8641f2465a0d1ac13b5067f" },
    { name: "Estácio — AWS Cloud Practitioner Essentials", issued: "abr/2024" },
    { name: "Ka Solution — Fase 2 | Capacitação - Computação em Nuvem", issued: "abr/2024" },
    { name: "Ka Solution — Computação em Nuvem | AWS Discovery Day", issued: "mar/2024" },
    { name: "Desec Security — Introdução ao Pentest na Prática", issued: "jan/2024", code: "RWXO-JGIXJ-LYLFC" },
    { name: "Cisco — Introdução à Cibersegurança", issued: "jan/2024" },
    { name: "Cisco Meraki — ECMS1 (Engineering Cisco Meraki Solutions 1)", issued: "jun/2021" },
    { name: "FASTPATH University — Bootcamp Cisco - Meraki", issued: "abr/2020" }
  ],

  experience: [
    {
      role: "Técnico de Suporte — Mercado Livre (via Randstad Brasil)",
      company: "Randstad Brasil",
      type: "Tempo integral • Presencial",
      period: "nov/2024 — jan/2026 (1 ano 3 meses)",
      summary: "Suporte presencial e disponibilidade de equipamentos em operação de alta demanda.",
      bullets: [
        "Assistência presencial garantindo disponibilidade de equipamentos de bancada; organização de postos de bateria e handhelds.",
        "Manutenção preventiva em impressoras (limpeza de cabeça de impressão, ajuste de etiquetas) e suporte em impressoras Zebra.",
        "Suporte operacional aos usuários: dúvidas técnicas, configuração e ajuste de hardware (ex.: leitores 3D).",
        "Abertura e acompanhamento de tickets; uso do Jira para administração e acompanhamento de chamados.",
        "Gestão de senhas e suporte Windows; interação direta com MDM para gestão de dispositivos móveis.",
        "Implementação e manutenção das ações de 5S, padronização dos postos e controle de inventário.",
        "Elaboração/apresentação de guias básicos de boas práticas para uso correto de equipamentos na operação."
      ]
    },
    {
      role: "Operador de Suporte Datacenter — NOC McDonald’s",
      company: "Telefónica Ingeniería de Seguridad",
      type: "",
      period: "out/2019 — abr/2022 (2 anos 7 meses)",
      summary: "Monitoração de links, incidentes e conectividade em lojas.",
      bullets: [
        "Monitoração de links via SolarWinds e abertura/acompanhamento de incidentes via BMC Remedy.",
        "Validação de conectividade interna nas lojas via ping (switches, access point, micro gerência, POS, SAT, KVS, quiosque e ambientes).",
        "Validação de indisponibilidade de link: contato local, sinalização do modem, reinicialização e evidências.",
        "Abertura e encaminhamento de chamados a operadoras, com acompanhamento até normalização.",
        "Atuação com Cisco Meraki em rotinas de suporte e validações."
      ]
    },
    {
      role: "Analista de Suporte — Projeto TDATA Telefônica | VIVO",
      company: "Tech Mahindra - Brasil",
      type: "",
      period: "mai/2019 — set/2019 (5 meses)",
      summary: "NOC Telefônica (Tdata): incidentes, N1, SLA, relatórios e escalonamentos.",
      bullets: [
        "Monitoramento de incidentes, atendimento primeiro nível, atualização e resolução de chamados.",
        "Acompanhamento de SLA e comunicação por e-mails com relatórios e feedback ao cliente.",
        "Ponto de apoio para a equipe Tdata em monitoração de servidores virtuais e físicos, infraestrutura e redes.",
        "Acionamentos, escalonamentos e acompanhamento de disponibilidade do serviço ao cliente.",
        "Atuação com SolarWinds, dashboards e Remedy."
      ]
    },
    {
      role: "Analista de Suporte — Projeto NOC McDonald’s Telefônica | VIVO",
      company: "Tech Mahindra - Brasil",
      type: "",
      period: "nov/2017 — set/2019 (1 ano 11 meses)",
      summary: "Monitoração de links, incidentes e conectividade em lojas (operação NOC).",
      bullets: [
        "Monitoração de links via SolarWinds e abertura/acompanhamento de incidentes pela ferramenta BMC Remedy.",
        "Validação de conectividade interna nas lojas (switches, AP, micro gerência, POS, SAT, KVS, quiosque).",
        "Validação de indisponibilidade do link (contato local, sinalização do modem, reinicialização de equipamentos).",
        "Abertura e encaminhamento de chamados a operadoras."
      ]
    },
    {
      role: "Analista de Suporte — Projeto NOC McDonald’s Telefônica | VIVO",
      company: "SONDA Brasil",
      type: "",
      period: "fev/2017 — out/2017 (9 meses)",
      summary: "Operação NOC: monitoração, incidentes e tratativas com operadoras.",
      bullets: [
        "Monitoração de links via SolarWinds e abertura/acompanhamento de incidentes via BMC Remedy.",
        "Validação de conectividade interna nas lojas e diagnóstico de indisponibilidade do link.",
        "Abertura e encaminhamento de chamados a operadoras."
      ]
    },
    {
      role: "Analista de Produção — Projeto NDC Telefônica | VIVO",
      company: "end-to-end technology",
      type: "",
      period: "jun/2016 — set/2016 (4 meses)",
      summary: "Operação de schedules em produção + backups.",
      bullets: [
        "Execução de upload de draft e ações básicas no BMC Control-M (rerun, hold, free, force ok, kill, run now, confirm e ordenação).",
        "Analisar, escalonar e acompanhar execução dos schedules em produção.",
        "Abertura e acompanhamento de chamados via BMC Remedy.",
        "Restore de políticas de backup e monitoramento de execução via Symantec NetBackup."
      ]
    },
    {
      role: "Analista de Monitoração / Ponto Focal — Projeto NDC Telefônica | VIVO",
      company: "end-to-end technology",
      type: "",
      period: "abr/2016 — set/2016 (6 meses)",
      summary: "Monitoração de infraestrutura crítica, incidentes e comunicação com liderança.",
      bullets: [
        "Monitoração de infraestrutura e análise de alarmes via IBM Tivoli Netcool/Omnibus e HP SiteScope.",
        "Abertura de incidentes via BMC Remedy, acionamento técnico e acompanhamento de resolução com equipes técnicas/PCPs.",
        "Comunicação com alta diretoria e gestores com tempos definidos via plano de comunicação."
      ]
    },
    {
      role: "Analista de Monitoração / Ponto Focal — Projeto NDC Telefônica | VIVO",
      company: "Stefanini",
      type: "São Paulo e Região, Brasil",
      period: "nov/2014 — mar/2016 (1 ano 5 meses)",
      summary: "Monitoração de infraestrutura crítica e gestão de incidentes.",
      bullets: [
        "Monitoração e análise de alarmes em sistemas/servidores críticos via Netcool/Omnibus e HP SiteScope.",
        "Abertura de incidentes na ferramenta BMC Remedy e acompanhamento até normalização.",
        "Comunicação com gestores/diretoria conforme plano de comunicação."
      ]
    },
    {
      role: "Técnico de Informática Sênior",
      company: "Lojas Marabraz",
      type: "São Paulo e Região, Brasil",
      period: "ago/2013 — mai/2014 (10 meses)",
      summary: "Monitoramento, automação e backups.",
      bullets: [
        "Análise e implementação de monitoramento para ambientes informatizados com ferramentas open-source e mapas de visualização.",
        "Criação de scripts em Bash e PowerShell para monitoramento conforme necessidade.",
        "Acompanhamento e criação de jobs de backup via HP Data Protector, mantendo pools e backups disponíveis."
      ]
    },
    {
      role: "Estagiário",
      company: "XMM Tecnologia da Informação",
      type: "Cajamar - SP",
      period: "mar/2012 — mai/2013 (1 ano 3 meses)",
      summary: "Service desk e suporte a usuários; redes e servidores.",
      bullets: [
        "Suporte a usuários e atendimento de chamados via ServiceDesk (GLPI).",
        "Vivência em redes de computadores e servidores.",
        "Conhecimentos em microinformática e redes (cabeamento, configuração de roteadores e switches)."
      ]
    }
  ]
};

/* ===========================
   Terminal render
=========================== */
const screen = document.getElementById("screen");
const input = document.getElementById("input");
let history = [];
let histIndex = -1;

function esc(s){ return (s ?? "").toString().replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;"); }
function addHTML(html){
  const div=document.createElement("div");
  div.className="line";
  div.innerHTML=html;
  screen.appendChild(div);
  screen.scrollTop=screen.scrollHeight;
}
function hr(){
  const d=document.createElement("div");
  d.className="sep";
  screen.appendChild(d);
}
function sectionTitle(t){
  hr();
  addHTML(`<span class="green">==&gt;</span> <span class="green">${esc(t)}</span>`);
}
function link(url,label){
  const safe=esc(url);
  const txt=esc(label ?? url);
  return `<a class="link" href="${safe}" target="_blank" rel="noreferrer">${txt}</a>`;
}
function listBullets(items){ items.forEach(it=>addHTML(`<span class="dim">•</span> <span class="dim">${esc(it)}</span>`)); }

function printContact(){
  addHTML(`<span class="green">${esc(CV.name)}</span> <span class="muted">•</span> <span class="dim">${esc(CV.headline)}</span>`);
  addHTML(`<span class="muted">Local:</span> <span class="dim">${esc(CV.location)}</span>`);
  addHTML(`<span class="muted">Email:</span> ${link("mailto:"+CV.contact.email, CV.contact.email)}`);
  addHTML(`<span class="muted">Telefone:</span> ${link("tel:"+CV.contact.phone_tel, CV.contact.phone_display)}`);
  addHTML(`<span class="muted">LinkedIn:</span> ${link(CV.contact.linkedin, CV.contact.linkedin)}`);
  addHTML(`<span class="muted">GitHub:</span> ${link(CV.contact.github, CV.contact.github)}`);
}

function printSkills(){
  Object.entries(CV.skills).forEach(([k, arr])=>{
    addHTML(`<span class="muted">${esc(k)}:</span> ${arr.map(x=>`<span class="badge">${esc(x)}</span>`).join(" ")}`);
  });
}

function printEducation(){
  CV.education.forEach(ed=>{
    addHTML(`<span class="dim"><b>${esc(ed.school)}</b></span> <span class="muted">—</span> <span class="dim">${esc(ed.course)}</span> <span class="muted">(${esc(ed.period)})</span>`);
  });
}

function printCerts(){
  CV.certifications.forEach(c=>{
    const code = c.code ? ` <span class="muted">• credencial:</span> <span class="dim">${esc(c.code)}</span>` : "";
    addHTML(`<span class="dim">•</span> <span class="dim">${esc(c.name)}</span> <span class="muted">(${esc(c.issued)})</span>${code}`);
  });
}

function printExperience(){
  CV.experience.forEach((xp, idx)=>{
    addHTML(`<span class="green">[${String(idx+1).padStart(2,"0")}]</span> <span class="dim"><b>${esc(xp.role)}</b></span> <span class="muted">— ${esc(xp.company)}</span>`);
    addHTML(`<span class="muted">Período:</span> <span class="dim">${esc(xp.period)}</span>${xp.type ? ` <span class="muted">•</span> <span class="dim">${esc(xp.type)}</span>` : ""}`);
    addHTML(`<span class="muted">Resumo:</span> <span class="dim">${esc(xp.summary)}</span>`);
    xp.bullets.forEach(b => addHTML(`<span class="dim">   - ${esc(b)}</span>`));
    addHTML(`<span class="muted"> </span>`);
  });
}

function all(){
  sectionTitle("IDENTIDADE");
  printContact();

  sectionTitle("SOBRE");
  CV.about.forEach(p=>addHTML(`<span class="dim">${esc(p)}</span>`));
  addHTML(`<span class="muted">Destaques:</span>`);
  listBullets(CV.highlights);

  sectionTitle("STACK / SKILLS");
  printSkills();

  sectionTitle("EXPERIÊNCIA (COMPLETA)");
  printExperience();

  sectionTitle("FORMAÇÃO");
  printEducation();

  sectionTitle("CERTIFICAÇÕES");
  printCerts();

  hr();
  addHTML(`<span class="muted">Comandos úteis:</span> <span class="kbd">ats</span> <span class="kbd">recrutador</span> <span class="kbd">matrix off</span> <span class="kbd">pdf</span>`);
}

function ats(){
  sectionTitle("ATS (TEXTO LIMPO)");
  addHTML(`<span class="dim"><b>${esc(CV.name)}</b> — ${esc(CV.headline)}</span>`);
  addHTML(`<span class="dim">${esc(CV.location)} | ${CV.contact.email} | ${CV.contact.phone_display} | ${CV.contact.linkedin} | ${CV.contact.github}</span>`);
  hr();
  addHTML(`<span class="muted">RESUMO</span>`);
  CV.about.forEach(p=>addHTML(`<span class="dim">${esc(p)}</span>`));
  addHTML(`<span class="muted">DESTAQUES</span>`);
  CV.highlights.forEach(h=>addHTML(`<span class="dim">- ${esc(h)}</span>`));
  hr();
  addHTML(`<span class="muted">SKILLS</span>`);
  Object.entries(CV.skills).forEach(([k, arr])=>addHTML(`<span class="dim">${esc(k)}: ${esc(arr.join(", "))}</span>`));
  hr();
  addHTML(`<span class="muted">EXPERIÊNCIA</span>`);
  CV.experience.forEach(x=>{
    addHTML(`<span class="dim"><b>${esc(x.role)}</b> — ${esc(x.company)} — ${esc(x.period)}</span>`);
    x.bullets.forEach(b=>addHTML(`<span class="dim">- ${esc(b)}</span>`));
    addHTML(`<span class="dim"> </span>`);
  });
  hr();
  addHTML(`<span class="muted">FORMAÇÃO</span>`);
  CV.education.forEach(ed=>addHTML(`<span class="dim">${esc(ed.school)} — ${esc(ed.course)} (${esc(ed.period)})</span>`));
  hr();
  addHTML(`<span class="muted">CERTIFICAÇÕES</span>`);
  CV.certifications.forEach(c=>addHTML(`<span class="dim">- ${esc(c.name)} (${esc(c.issued)})${c.code ? " • credencial: "+esc(c.code) : ""}</span>`));
}

function help(){
  sectionTitle("HELP");
  addHTML(`<span class="dim">Comandos:</span> <span class="kbd">all</span> <span class="kbd">ats</span> <span class="kbd">recrutador</span> <span class="kbd">matrix on/off</span> <span class="kbd">pdf</span> <span class="kbd">clear</span>`);
}

let matrixEnabled = true;
let matrixPaused = false;
function setMatrix(enabled){
  const canvas=document.getElementById("matrix");
  const vign=document.querySelector(".vignette");
  canvas.style.display = enabled ? "block" : "none";
  vign.style.display = enabled ? "block" : "none";
  matrixEnabled = enabled;
}
function toggleRecruiter(){
  document.body.classList.toggle("clean");
  if(document.body.classList.contains("clean")) setMatrix(false);
  else setMatrix(true);
  addHTML(`<span class="green">[OK]</span> <span class="dim">Modo recrutador: ${document.body.classList.contains("clean") ? "ON" : "OFF"}</span>`);
}
function clearScreen(){ screen.innerHTML=""; }

function runCommand(raw){
  const cmdline=raw.trim();
  if(!cmdline) return;

  addHTML(`<span class="muted">nicolas@matrix:~/cv$</span> <span class="dim">${esc(cmdline)}</span>`);
  const [cmd, ...rest]=cmdline.split(/\s+/);
  const arg = rest.join(" ").trim().toLowerCase();

  switch(cmd.toLowerCase()){
    case "all": all(); break;
    case "ats": ats(); break;
    case "help": help(); break;
    case "pdf": addHTML(`<span class="green">[OK]</span> <span class="dim">Abrindo impressão…</span>`); window.print(); break;
    case "recrutador": toggleRecruiter(); break;
    case "matrix":
      if(arg==="off"){ setMatrix(false); addHTML(`<span class="green">[OK]</span> <span class="dim">Matrix: OFF</span>`); }
      else if(arg==="on"){
        if(document.body.classList.contains("clean")) addHTML(`<span class="green">[INFO]</span> <span class="dim">Modo recrutador ON — Matrix permanece OFF.</span>`);
        else { setMatrix(true); addHTML(`<span class="green">[OK]</span> <span class="dim">Matrix: ON</span>`); }
      } else addHTML(`<span class="muted">Uso:</span> <span class="kbd">matrix on</span> ou <span class="kbd">matrix off</span>`);
      break;
    case "clear": clearScreen(); break;
    default:
      addHTML(`<span class="green">[WARN]</span> <span class="dim">comando não reconhecido:</span> <span class="dim">${esc(cmd)}</span>`);
      addHTML(`<span class="muted">Dica:</span> digite <span class="kbd">help</span>.`);
  }
}

/* Input history */
input.addEventListener("keydown", (e)=>{
  if(e.key==="Enter"){
    const v=input.value;
    if(v.trim()){ history.push(v); histIndex=history.length; }
    input.value="";
    runCommand(v);
  } else if(e.key==="ArrowUp"){
    if(history.length===0) return;
    histIndex=Math.max(0, histIndex-1);
    input.value=history[histIndex] ?? "";
    e.preventDefault();
  } else if(e.key==="ArrowDown"){
    if(history.length===0) return;
    histIndex=Math.min(history.length, histIndex+1);
    input.value=history[histIndex] ?? "";
    e.preventDefault();
  }
});

/* Buttons */
document.getElementById("btnAll").addEventListener("click", ()=>runCommand("all"));
document.getElementById("btnATS").addEventListener("click", ()=>runCommand("ats"));
document.getElementById("btnClean").addEventListener("click", ()=>runCommand("recrutador"));
document.getElementById("btnPDF").addEventListener("click", ()=>runCommand("pdf"));
document.getElementById("btnClear").addEventListener("click", ()=>runCommand("clear"));

/* Boot: já abre completo */
(function boot(){
  addHTML(`<span class="green">[BOOT]</span> <span class="dim">Sessão iniciada.</span>`);
  addHTML(`<span class="green">[OK]</span> <span class="dim">Renderizando currículo completo…</span>`);
  runCommand("all");
  input.focus();
})();

/* Matrix Rain (leve + pausa) */
const canvas=document.getElementById("matrix");
const ctx=canvas.getContext("2d", {alpha:true});
const CHARS=
  "アァカサタナハマヤャラワガザダバパ"+
  "イィキシチニヒミリヰギジヂビピ"+
  "ウゥクスツヌフムユュルグズヅブプ"+
  "エェケセテネヘメレヱゲゼデベペ"+
  "オォコソトノホモヨョロヲゴゾドボポヴン"+
  "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%*+-/<>=";

let fontSize=16, columns=0, drops=[];
function resize(){
  const dpr=Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  canvas.width=Math.floor(window.innerWidth*dpr);
  canvas.height=Math.floor(window.innerHeight*dpr);
  canvas.style.width=window.innerWidth+"px";
  canvas.style.height=window.innerHeight+"px";
  ctx.setTransform(dpr,0,0,dpr,0,0);
  fontSize=window.innerWidth<520?14:16;
  columns=Math.floor(window.innerWidth/fontSize);
  drops=new Array(columns).fill(0).map(()=>Math.random()*window.innerHeight/fontSize);
}
function draw(){
  if(!matrixEnabled || matrixPaused || canvas.style.display==="none"){ requestAnimationFrame(draw); return; }
  ctx.fillStyle="rgba(0,0,0,0.08)";
  ctx.fillRect(0,0,window.innerWidth,window.innerHeight);
  ctx.font=fontSize+"px ui-monospace, monospace";
  for(let i=0;i<drops.length;i++){
    const ch=CHARS[Math.floor(Math.random()*CHARS.length)];
    const x=i*fontSize;
    const y=drops[i]*fontSize;
    ctx.fillStyle="rgba(57,255,20,0.82)";
    ctx.fillText(ch,x,y);
    if(y>window.innerHeight && Math.random()>0.975) drops[i]=0;
    drops[i]+=0.65+Math.random()*0.8;
  }
  requestAnimationFrame(draw);
}
document.addEventListener("visibilitychange", ()=>{ matrixPaused=document.hidden; });
window.addEventListener("beforeprint", ()=>{ setMatrix(false); });
window.addEventListener("afterprint", ()=>{ if(!document.body.classList.contains("clean")) setMatrix(true); });
window.addEventListener("resize", resize);
resize(); draw();
</script>
</body>
</html>
